<div class="min-h-screen flex items-center justify-center bg-base-200 px-4">
  <div class="w-full max-w-lg bg-base-100 p-8 rounded-lg shadow">
    <h2 class="text-2xl font-bold text-center mb-6">Registro de Usuario</h2>

    <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Nombre -->
        <div class="form-control">
          <label class="label">Nombre</label>
          <input name="name" type="text" class="input input-bordered" required
                 [(ngModel)]="user.name" #name="ngModel">
          <div *ngIf="name.invalid && name.touched" class="text-red-500 text-sm">
            Campo obligatorio.
          </div>
        </div>

        <!-- Apellido -->
        <div class="form-control">
          <label class="label">Apellido</label>
          <input name="lastname" type="text" class="input input-bordered" required
                 [(ngModel)]="user.lastname" #lastname="ngModel">
          <div *ngIf="lastname.invalid && lastname.touched" class="text-red-500 text-sm">
            Campo obligatorio.
          </div>
        </div>

        <!-- Usuario -->
        <div class="form-control md:col-span-2">
          <label class="label">Nombre de usuario</label>
          <input name="username" type="text" class="input input-bordered" required
                 [(ngModel)]="user.username" #username="ngModel">
          <div *ngIf="username.invalid && username.touched" class="text-red-500 text-sm">
            Campo obligatorio.
          </div>
        </div>

        <!-- Email -->
        <div class="form-control md:col-span-2">
          <label class="label">Email</label>
          <input name="email" type="email" class="input input-bordered" required
                 [(ngModel)]="user.email" #email="ngModel">
          <div *ngIf="email.invalid && email.touched" class="text-red-500 text-sm">
            Introduce un email válido.
          </div>
        </div>

        <!-- Dirección -->
        <div class="form-control md:col-span-2">
          <label class="label">Dirección</label>
          <input name="address" type="text" class="input input-bordered" required
                 [(ngModel)]="user.address" #address="ngModel">
          <div *ngIf="address.invalid && address.touched" class="text-red-500 text-sm">
            Campo obligatorio.
          </div>
        </div>

        <!-- Teléfono -->
        <div class="form-control md:col-span-2">
          <label class="label">Teléfono Móvil (9 dígitos)</label>
          <input name="phone_number" type="tel" class="input input-bordered"
                 pattern="^[0-9]{9}$" required [(ngModel)]="user.phone_number" #phone="ngModel">
          <div *ngIf="phone.invalid && phone.touched" class="text-red-500 text-sm">
            El número debe tener exactamente 9 dígitos.
          </div>
        </div>

        <!-- Contraseña -->
        <div class="form-control md:col-span-2">
          <label class="label">Contraseña (mínimo 5 carácteres)</label>
          <input name="password" type="password" class="input input-bordered"
                 minlength="5" required [(ngModel)]="user.password" #password="ngModel">
          <div *ngIf="password.invalid && password.touched" class="text-red-500 text-sm">
            La contraseña debe tener al menos 5 caracteres.
          </div>
        </div>
      </div>

      <!-- Botón de enviar -->
      <button type="submit" class="btn btn-primary w-full mt-6"
              [disabled]="registerForm.invalid">
        Registrarse
      </button>

      <!-- Mensajes de éxito / error del backend -->
      <div *ngIf="registerSuccess" class="mt-4 text-green-600 text-center">
        {{ registerSuccess }}
      </div>
      <div *ngIf="registerError" class="mt-4 text-red-500 text-center">
        {{ registerError }}
      </div>
    </form>
  </div>
</div>
